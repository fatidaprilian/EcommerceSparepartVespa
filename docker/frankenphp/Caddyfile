{
	# Aktifkan mode debug (opsional, hapus di production)
	debug
	# Atur format log
	log {
		level INFO
		format console
	}
	# Atur agar Caddy server default
	default_sni {$SERVER_NAME}
}

# Konfigurasi server utama
:80 {
	# Atur root direktori ke folder public Laravel
	root * /app/public
	# Aktifkan encoding gzip dan zstd untuk kompresi
	encode zstd gzip
	# Arahkan semua request file PHP ke FrankenPHP
	php_fastcgi unix//run/php/php-fpm.sock {
		# Atur agar index.php menjadi fallback jika file tidak ditemukan
		try_files {path} /index.php?{query}
	}
	# Aturan untuk menangani file yang tidak ditemukan (404)
	file_server
}